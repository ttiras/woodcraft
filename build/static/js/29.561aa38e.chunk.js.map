{"version":3,"sources":["graphql/OrdersAggregate.js","graphql/PaymentsAggregate.js","pages/managerZone/DailyOrderCount.js","graphql/OrdersChart.js","pages/managerZone/DailyOrderCharts.js","graphql/ProductSales.js","pages/managerZone/ProductCharts.js","pages/managerZone/Dashboard.js"],"names":["ORDERS_AGGREGATE","gql","PAYMENTS_AGGREGATE","DailyOrderCount","useState","highlight","setHighlight","useSubscription","onSubscriptionData","setTimeout","loading","error","data","payloading","payerror","paydata","console","log","className","orders_aggregate","aggregate","count","sum","amount","payments_aggregate","to","ORDERS_CHART","DailyOrderCharts","g2c","graphql2chartjs","datasetName","dataPoint","chartType","backgroundColor","PRODUCT_SALES","ProductCharts","Dashboard","LayoutOne","headerTop"],"mappings":"sdAEA,IAWiBA,EAXQC,IAAH,K,kPCAtB,IAWiBC,EAXUD,IAAH,KCOT,SAASE,IAAmB,IAAD,EACNC,oBAAS,GADH,mBACjCC,EADiC,KACtBC,EADsB,OAEPC,YAAgBP,EAAkB,CACjEQ,mBAAoB,WAClBF,GAAa,GACbG,YAAW,WACTH,GAAa,KACZ,QALCI,EAFgC,EAEhCA,QAASC,EAFuB,EAEvBA,MAAOC,EAFgB,EAEhBA,KAFgB,EAUwBL,YAAgBL,EAAoB,CAClGM,mBAAoB,WAClBF,GAAa,GACbG,YAAW,WACTH,GAAa,KACZ,QALUO,EAVuB,EAUhCH,QAA4BI,EAVI,EAUXH,MAAuBI,EAVZ,EAUMH,KAQhD,OAAGF,EAAe,cACfC,GAAMK,QAAQC,IAAIN,GAClBE,EAAkB,cAClBC,GAASE,QAAQC,IAAIN,GAGpB,yBAAKO,UAAU,eACZN,GACC,yBAAKM,UAAU,oCACb,wBAAIA,UAAU,kCAAiC,2DAC/C,uBAAGA,UAAWb,EAAW,YAAc,IACrC,oCAAUO,EAAKO,iBAAiBC,UAAUC,MAA1C,KADF,sBAIA,uBAAGH,UAAWb,EAAW,YAAc,IACrC,oCAAUO,EAAKO,iBAAiBC,UAAUE,IAAIC,OAA9C,KAAgE,IADlE,yBAKDR,GACH,yBAAKG,UAAU,kCACb,uBAAGA,UAAWb,EAAW,YAAc,IACnC,oCAAUU,EAAQS,mBAAmBJ,UAAUC,MAA/C,KADJ,kBAIA,uBAAGH,UAAWb,EAAW,YAAc,IACnC,oCAAUU,EAAQS,mBAAmBJ,UAAUE,IAAIC,OAAnD,KADJ,mBAMF,yBAAKL,UAAU,yBACf,kBAAC,IAAD,CAAMO,GAA6B,WACpB,4BAAQP,UAAU,kCAAlB,2BAEF,+BAAI,kBAAC,IAAD,CAAMO,GAA6B,kBACrC,4BAAQP,UAAU,6BAAlB,sB,kNC7DrB,IAOiBQ,EAPIzB,IAAH,KCMH,SAAS0B,IAAoB,IAAD,EACfpB,YAAgBmB,GAAlChB,EADiC,EACjCA,QAASE,EADwB,EACxBA,KACjB,GAAIA,EAAM,CACR,IAAMgB,EAAM,IAAIC,IAAgBjB,GAAM,SAACkB,EAAaC,GAAd,mBAAC,eAChCA,GAD+B,IAElCC,UAAW,MACXC,gBAAiB,eAErB,OAAO,kBAAC,IAAD,CAAKrB,KAAMgB,EAAIhB,OACjB,OAAGF,EACD,aAEA,0B,+MClBX,IAOiBwB,EAPKjC,IAAH,KCKJ,SAASkC,IAAiB,IAAD,EACZ5B,YAAgB2B,GAAlCxB,EAD8B,EAC9BA,QAASE,EADqB,EACrBA,KACjB,GAAIA,EAAM,CACR,IAAMgB,EAAM,IAAIC,IAAgBjB,GAAM,SAACkB,EAAaC,GAAd,mBAAC,eAChCA,GAD+B,IAElCC,UAAW,MACXC,gBAAiB,eAErB,OAAO,kBAAC,IAAD,CAAKrB,KAAMgB,EAAIhB,OACjB,OAAGF,EACD,aAEA,0BCXI,SAAS0B,IACpB,OACI,kBAACC,EAAA,EAAD,CAAWC,UAAU,WACjB,yBAAKpB,UAAU,eACf,4BAAI,0CAER,yBAAKA,UAAU,aACX,yBAAKA,UAAU,iCACf,yBAAKA,UAAU,UACb,kBAACf,EAAD,MACA,yBAAKe,UAAU,eACb,kBAACS,EAAD,OAEF,yBAAKT,UAAU,eACb,kBAACiB,EAAD","file":"static/js/29.561aa38e.chunk.js","sourcesContent":["import gql from 'graphql-tag'\n\nconst ORDERS_AGGREGATE = gql `subscription OrdersAggregate {\n    orders_aggregate {\n      aggregate {\n        count\n        sum {\n          amount\n        }\n      }\n    }\n  }`\n\n  export default ORDERS_AGGREGATE","import gql from 'graphql-tag'\n\nconst PAYMENTS_AGGREGATE = gql `subscription PaymentsAggregate {\n    payments_aggregate {\n      aggregate {\n        count\n        sum {\n          amount\n        }\n      }\n    }\n  }`\n\n  export default PAYMENTS_AGGREGATE","import React, {useState} from \"react\";\nimport { useSubscription } from \"@apollo/react-hooks\";\n\nimport ORDERS_AGGREGATE from \"../../graphql/OrdersAggregate\";\nimport { Link } from \"react-router-dom\";\n\nimport './Orders.css'\nimport PAYMENTS_AGGREGATE from \"../../graphql/PaymentsAggregate\";\n\nexport default function DailyOrderCount() {\n  const [highlight, setHighlight] = useState(false)\n  const { loading, error, data } = useSubscription(ORDERS_AGGREGATE, {\n    onSubscriptionData: () => {\n      setHighlight(true)\n      setTimeout(() => {\n        setHighlight(false)\n      }, 250);\n    }\n  });\n  const { loading: payloading, error: payerror, data: paydata } = useSubscription(PAYMENTS_AGGREGATE, {\n    onSubscriptionData: () => {\n      setHighlight(true)\n      setTimeout(() => {\n        setHighlight(false)\n      }, 250);\n    }\n  });\nif(loading)return 'Loading...'\nif(error)console.log(error)\nif(payloading)return 'Loading...'\nif(payerror)console.log(error)\n\n  return (\n    <div className='mb-5 charts'>\n      {data && (\n        <div className='m-auto text-center border-bottom'>\n          <h5 className='mb-2 mt-4 border-bottom titles'><strong>Bugüne Kadar Toplam</strong></h5>\n          <p className={highlight? 'highlight' : ''}>\n            <strong> {data.orders_aggregate.aggregate.count} </strong> Adet\n            Sipariş\n          </p>\n          <p className={highlight? 'highlight' : ''}>\n            <strong> {data.orders_aggregate.aggregate.sum.amount} </strong>{\" \"}\n            Lira Satış\n          </p>\n          </div>\n      )}{paydata&&\n      <div className='mt-3 text-center border-bottom'>\n        <p className={highlight? 'highlight' : ''}>\n            <strong> {paydata.payments_aggregate.aggregate.count} </strong> Adet\n            Ödeme\n          </p>\n        <p className={highlight? 'highlight' : ''}>\n            <strong> {paydata.payments_aggregate.aggregate.sum.amount} </strong> Lira\n            Ödeme\n          </p>\n      </div>\n      }\n      <div className='mt-3 mb-3 text-center'>\n      <Link to={process.env.PUBLIC_URL + \"/orders\"}>\n                     <button className='btn btn-primary btn-small mb-4'>Tüm Siparişler</button> \n                    </Link>\n                   <p> <Link to={process.env.PUBLIC_URL + \"/productmanage\"}>\n                     <button className='btn btn-primary btn-small'> Stok Takibi</button> \n                    </Link></p>\n      </div>\n          \n        \n    </div>\n  );\n}\n","import gql from 'graphql-tag'\n\nconst ORDERS_CHART = gql `subscription OrdersChart {\n  dailysales(order_by: {day: asc}) {\n    label: day\n    data: sum\n  }\n}`\n\n  export default ORDERS_CHART","import React from \"react\";\nimport { useSubscription } from \"@apollo/react-hooks\";\n\nimport graphql2chartjs from \"graphql2chartjs\";\nimport { Bar } from \"react-chartjs-2\";\n\nimport ORDERS_CHART from \"../../graphql/OrdersChart\";\n\nexport default function DailyOrderCharts() {\n  const { loading, data } = useSubscription(ORDERS_CHART);\n  if (data) {\n    const g2c = new graphql2chartjs(data, (datasetName, dataPoint) => ({\n        ...dataPoint,\n        chartType: \"bar\",\n        backgroundColor: \"#007bff\"\n      }));\n    return <Bar data={g2c.data} />;\n  } else if(loading) {\n    return \"Loading...\";\n  } else {\n    return \"Bir hata oluştu...\"\n  }\n}\n","import gql from 'graphql-tag'\n\nconst PRODUCT_SALES = gql `subscription ProductSales {\n    products(order_by: {saleCount: asc}) {\n      data: saleCount\n      label: name\n    }\n  }`\n\n  export default PRODUCT_SALES","import React from \"react\";\nimport { useSubscription } from \"@apollo/react-hooks\";\n\nimport graphql2chartjs from \"graphql2chartjs\";\nimport { Bar } from \"react-chartjs-2\";\nimport PRODUCT_SALES from \"../../graphql/ProductSales\";\n\nexport default function ProductCharts() {\n  const { loading, data } = useSubscription(PRODUCT_SALES);\n  if (data) {\n    const g2c = new graphql2chartjs(data, (datasetName, dataPoint) => ({\n        ...dataPoint,\n        chartType: \"bar\",\n        backgroundColor: \"#007bff\"\n      }));\n    return <Bar data={g2c.data} />;\n  } else if(loading) {\n    return \"Loading...\";\n  }else {\n    return \"Bir hata oluştu...\"\n  }\n}","import React from 'react'\nimport DailyOrderCount from './DailyOrderCount'\nimport DailyOrderCharts from './DailyOrderCharts'\nimport LayoutOne from \"../../layouts/LayoutOne\";\nimport ProductCharts from './ProductCharts';\n\nimport './Orders.css'\n\nexport default function Dashboard(){\n    return(\n        <LayoutOne headerTop='visible'>\n            <div className='text-center'>\n            <h3><u>Dashboard</u></h3>\n            </div>\n        <div className='container'>\n            <div className=\"row justify-content-md-center\">\n            <div className='col-sm'>\n              <DailyOrderCount />\n              <div className='col-sm mt-5'>\n                <DailyOrderCharts />\n              </div>\n              <div className='col-sm mt-5'>\n                <ProductCharts />\n              </div>\n          </div>\n          </div>\n          </div>\n          </LayoutOne>\n    )\n}"],"sourceRoot":""}