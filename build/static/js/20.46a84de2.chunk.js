(this["webpackJsonpflone-react"]=this["webpackJsonpflone-react"]||[]).push([[20],{523:function(e,t,a){"use strict";a.d(t,"a",(function(){return b})),a.d(t,"b",(function(){return h})),a.d(t,"c",(function(){return d})),a.d(t,"d",(function(){return v}));var r=a(522),n=a(1),i=a(0),s=a(169),l=a(50),o=a(4),c=function(){function e(e,t){this.isMounted=!1,this.previousOptions={},this.context={},this.options={},this.options=e||{},this.context=t||{}}return e.prototype.getOptions=function(){return this.options},e.prototype.setOptions=function(e,t){void 0===t&&(t=!1),t&&!Object(l.a)(this.options,e)&&(this.previousOptions=this.options),this.options=e},e.prototype.unmount=function(){this.isMounted=!1},e.prototype.refreshClient=function(){var e=this.options&&this.options.client||this.context&&this.context.client;Object(o.b)(!!e,2);var t=!1;return e!==this.client&&(t=!0,this.client=e,this.cleanup()),{client:this.client,isNew:t}},e.prototype.verifyDocumentType=function(e,t){var a=Object(r.e)(e);Object(r.d)(t),Object(r.d)(a.type);Object(o.b)(a.type===t,3)},e}(),u=function(e){function t(t){var a=t.options,r=t.context,n=t.onNewData,i=e.call(this,a,r)||this;return i.previousData={},i.currentObservable={},i.runLazy=!1,i.runLazyQuery=function(e){i.cleanup(),i.runLazy=!0,i.lazyOptions=e,i.onNewData()},i.getExecuteResult=function(){var e=i.getQueryResult();return i.startQuerySubscription(),e},i.obsRefetch=function(e){return i.currentObservable.query.refetch(e)},i.obsFetchMore=function(e){return i.currentObservable.query.fetchMore(e)},i.obsUpdateQuery=function(e){return i.currentObservable.query.updateQuery(e)},i.obsStartPolling=function(e){i.currentObservable&&i.currentObservable.query&&i.currentObservable.query.startPolling(e)},i.obsStopPolling=function(){i.currentObservable&&i.currentObservable.query&&i.currentObservable.query.stopPolling()},i.obsSubscribeToMore=function(e){return i.currentObservable.query.subscribeToMore(e)},i.onNewData=n,i}return Object(n.__extends)(t,e),t.prototype.execute=function(){this.refreshClient();var e=this.getOptions(),t=e.skip,a=e.query;return(t||a!==this.previousData.query)&&(this.removeQuerySubscription(),this.previousData.query=a),this.updateObservableQuery(),this.isMounted&&this.startQuerySubscription(),this.getExecuteSsrResult()||this.getExecuteResult()},t.prototype.executeLazy=function(){return this.runLazy?[this.runLazyQuery,this.execute()]:[this.runLazyQuery,{loading:!1,networkStatus:s.b.ready,called:!1,data:void 0}]},t.prototype.fetchData=function(){var e=this.getOptions();if(e.skip||!1===e.ssr)return!1;var t=this.currentObservable.query;return!!t.getCurrentResult().loading&&t.result()},t.prototype.afterExecute=function(e){var t=(void 0===e?{}:e).lazy,a=void 0!==t&&t;return this.isMounted=!0,a&&!this.runLazy||this.handleErrorOrCompleted(),this.previousOptions=this.getOptions(),this.unmount.bind(this)},t.prototype.cleanup=function(){this.removeQuerySubscription(),delete this.currentObservable.query,delete this.previousData.result},t.prototype.getOptions=function(){var t=e.prototype.getOptions.call(this);return this.lazyOptions&&(t.variables=Object(n.__assign)(Object(n.__assign)({},t.variables),this.lazyOptions.variables),t.context=Object(n.__assign)(Object(n.__assign)({},t.context),this.lazyOptions.context)),this.runLazy&&delete t.skip,t},t.prototype.ssrInitiated=function(){return this.context&&this.context.renderPromises},t.prototype.getExecuteSsrResult=function(){var e,t=!1===this.getOptions().ssr,a=this.refreshClient().client.disableNetworkFetches,r=Object(n.__assign)({loading:!0,networkStatus:s.b.loading,called:!0,data:void 0,stale:!1,client:this.client},this.observableQueryFields());return t&&(this.ssrInitiated()||a)?(this.previousData.result=r,r):(this.ssrInitiated()&&(e=this.context.renderPromises.addQueryPromise(this,this.getExecuteResult)||r),e)},t.prototype.prepareObservableQueryOptions=function(){var e=this.getOptions();this.verifyDocumentType(e.query,r.b.Query);var t=e.displayName||"Query";return!this.ssrInitiated()||"network-only"!==e.fetchPolicy&&"cache-and-network"!==e.fetchPolicy||(e.fetchPolicy="cache-first"),Object(n.__assign)(Object(n.__assign)({},e),{displayName:t,context:e.context,metadata:{reactComponent:{displayName:t}}})},t.prototype.initializeObservableQuery=function(){var e,t;if(this.ssrInitiated()&&(this.currentObservable.query=this.context.renderPromises.getSSRObservable(this.getOptions())),!this.currentObservable.query){var a=this.prepareObservableQueryOptions();this.previousData.observableQueryOptions=Object(n.__assign)(Object(n.__assign)({},a),{children:null}),this.currentObservable.query=this.refreshClient().client.watchQuery(Object(n.__assign)({},a)),this.ssrInitiated()&&(null===(t=null===(e=this.context)||void 0===e?void 0:e.renderPromises)||void 0===t||t.registerSSRObservable(this.currentObservable.query,a))}},t.prototype.updateObservableQuery=function(){if(this.currentObservable.query){var e=Object(n.__assign)(Object(n.__assign)({},this.prepareObservableQueryOptions()),{children:null});Object(l.a)(e,this.previousData.observableQueryOptions)||(this.previousData.observableQueryOptions=e,this.currentObservable.query.setOptions(e).catch((function(){})))}else this.initializeObservableQuery()},t.prototype.startQuerySubscription=function(){var e=this;if(!this.currentObservable.subscription&&!this.getOptions().skip){var t=this.currentObservable.query;this.currentObservable.subscription=t.subscribe({next:function(t){var a=t.loading,r=t.networkStatus,n=t.data,i=e.previousData.result;i&&i.loading===a&&i.networkStatus===r&&Object(l.a)(i.data,n)||e.onNewData()},error:function(t){if(e.resubscribeToQuery(),!t.hasOwnProperty("graphQLErrors"))throw t;var a=e.previousData.result;(a&&a.loading||!Object(l.a)(t,e.previousData.error))&&(e.previousData.error=t,e.onNewData())}})}},t.prototype.resubscribeToQuery=function(){this.removeQuerySubscription();var e=this.currentObservable.query.getLastError(),t=this.currentObservable.query.getLastResult();this.currentObservable.query.resetLastResults(),this.startQuerySubscription(),Object.assign(this.currentObservable.query,{lastError:e,lastResult:t})},t.prototype.getQueryResult=function(){var e=this.observableQueryFields(),t=this.getOptions();if(t.skip)e=Object(n.__assign)(Object(n.__assign)({},e),{data:void 0,error:void 0,loading:!1,called:!0});else{var a=this.currentObservable.query.getCurrentResult(),r=a.loading,i=a.partial,l=a.networkStatus,o=a.errors,c=a.error,u=a.data;if(o&&o.length>0&&(c=new s.a({graphQLErrors:o})),e=Object(n.__assign)(Object(n.__assign)({},e),{loading:r,networkStatus:l,error:c,called:!0}),r){var m=this.previousData.result&&this.previousData.result.data;e.data=m&&u?Object(n.__assign)(Object(n.__assign)({},m),u):m||u}else if(c)Object.assign(e,{data:(this.currentObservable.query.getLastResult()||{}).data});else{var d=this.currentObservable.query.options.fetchPolicy;if(t.partialRefetch&&!u&&i&&"cache-only"!==d)return Object.assign(e,{loading:!0,networkStatus:s.b.loading}),e.refetch(),e;e.data=u}}return e.client=this.client,this.previousData.loading=this.previousData.result&&this.previousData.result.loading||!1,this.previousData.result=e,this.currentObservable.query&&this.currentObservable.query.resetQueryStoreErrors(),e},t.prototype.handleErrorOrCompleted=function(){if(this.currentObservable.query&&this.previousData.result){var e=this.previousData.result,t=e.data,a=e.loading,r=e.error;if(!a){var n=this.getOptions(),i=n.query,s=n.variables,o=n.onCompleted,c=n.onError;if(this.previousOptions&&!this.previousData.loading&&Object(l.a)(this.previousOptions.query,i)&&Object(l.a)(this.previousOptions.variables,s))return;o&&!r?o(t):c&&r&&c(r)}}},t.prototype.removeQuerySubscription=function(){this.currentObservable.subscription&&(this.currentObservable.subscription.unsubscribe(),delete this.currentObservable.subscription)},t.prototype.observableQueryFields=function(){return{variables:this.currentObservable.query.variables,refetch:this.obsRefetch,fetchMore:this.obsFetchMore,updateQuery:this.obsUpdateQuery,startPolling:this.obsStartPolling,stopPolling:this.obsStopPolling,subscribeToMore:this.obsSubscribeToMore}},t}(c);function m(e,t,a){void 0===a&&(a=!1);var s=Object(i.useContext)(Object(r.c)()),o=Object(i.useReducer)((function(e){return e+1}),0),c=o[0],m=o[1],d=t?Object(n.__assign)(Object(n.__assign)({},t),{query:e}):{query:e},b=Object(i.useRef)(),p=b.current||new u({options:d,context:s,onNewData:function(){p.ssrInitiated()?m():Promise.resolve().then(m)}});p.setOptions(d),p.context=s,p.ssrInitiated()&&!b.current&&(b.current=p);var h=function(e,t){var a=Object(i.useRef)();return a.current&&Object(l.a)(t,a.current.key)||(a.current={key:t,value:e()}),a.current.value}((function(){return a?p.executeLazy():p.execute()}),{options:Object(n.__assign)(Object(n.__assign)({},d),{onError:void 0,onCompleted:void 0}),context:s,tick:c}),g=a?h[1]:h;return Object(i.useEffect)((function(){return b.current||(b.current=p),function(){return p.cleanup()}}),[]),Object(i.useEffect)((function(){return p.afterExecute({lazy:a})}),[g.loading,g.networkStatus,g.error,g.data]),h}function d(e,t){return m(e,t,!1)}function b(e,t){return m(e,t,!0)}var p=function(e){function t(t){var a=t.options,n=t.context,i=t.result,s=t.setResult,l=e.call(this,a,n)||this;return l.runMutation=function(e){void 0===e&&(e={}),l.onMutationStart();var t=l.generateNewMutationId();return l.mutate(e).then((function(e){return l.onMutationCompleted(e,t),e})).catch((function(e){if(l.onMutationError(e,t),!l.getOptions().onError)throw e}))},l.verifyDocumentType(a.mutation,r.b.Mutation),l.result=i,l.setResult=s,l.mostRecentMutationId=0,l}return Object(n.__extends)(t,e),t.prototype.execute=function(e){return this.isMounted=!0,this.verifyDocumentType(this.getOptions().mutation,r.b.Mutation),e.client=this.refreshClient().client,[this.runMutation,e]},t.prototype.afterExecute=function(){return this.isMounted=!0,this.unmount.bind(this)},t.prototype.cleanup=function(){},t.prototype.mutate=function(e){var t=this.getOptions(),a=t.mutation,r=t.variables,i=t.optimisticResponse,s=t.update,l=t.context,o=void 0===l?{}:l,c=t.awaitRefetchQueries,u=void 0!==c&&c,m=t.fetchPolicy,d=Object(n.__assign)({},e),b=Object.assign({},r,d.variables);return delete d.variables,this.refreshClient().client.mutate(Object(n.__assign)({mutation:a,optimisticResponse:i,refetchQueries:d.refetchQueries||this.getOptions().refetchQueries,awaitRefetchQueries:u,update:s,context:o,fetchPolicy:m,variables:b},d))},t.prototype.onMutationStart=function(){this.result.loading||this.getOptions().ignoreResults||this.updateResult({loading:!0,error:void 0,data:void 0,called:!0})},t.prototype.onMutationCompleted=function(e,t){var a=this.getOptions(),r=a.onCompleted,n=a.ignoreResults,i=e.data,l=e.errors,o=l&&l.length>0?new s.a({graphQLErrors:l}):void 0;this.isMostRecentMutation(t)&&!n&&this.updateResult({called:!0,loading:!1,data:i,error:o}),r&&r(i)},t.prototype.onMutationError=function(e,t){var a=this.getOptions().onError;this.isMostRecentMutation(t)&&this.updateResult({loading:!1,error:e,data:void 0,called:!0}),a&&a(e)},t.prototype.generateNewMutationId=function(){return++this.mostRecentMutationId},t.prototype.isMostRecentMutation=function(e){return this.mostRecentMutationId===e},t.prototype.updateResult=function(e){!this.isMounted||this.previousResult&&Object(l.a)(this.previousResult,e)||(this.setResult(e),this.previousResult=e)},t}(c);function h(e,t){var a=Object(i.useContext)(Object(r.c)()),s=Object(i.useState)({called:!1,loading:!1}),l=s[0],o=s[1],c=t?Object(n.__assign)(Object(n.__assign)({},t),{mutation:e}):{mutation:e},u=Object(i.useRef)();var m=(u.current||(u.current=new p({options:c,context:a,result:l,setResult:o})),u.current);return m.setOptions(c),m.context=a,Object(i.useEffect)((function(){return m.afterExecute()})),m.execute(l)}var g=function(e){function t(t){var a=t.options,r=t.context,n=t.setResult,i=e.call(this,a,r)||this;return i.currentObservable={},i.setResult=n,i.initialize(a),i}return Object(n.__extends)(t,e),t.prototype.execute=function(e){if(!0===this.getOptions().skip)return this.cleanup(),{loading:!1,error:void 0,data:void 0,variables:this.getOptions().variables};var t=e;this.refreshClient().isNew&&(t=this.getLoadingResult());var a=this.getOptions().shouldResubscribe;return"function"===typeof a&&(a=!!a(this.getOptions())),!1!==a&&this.previousOptions&&Object.keys(this.previousOptions).length>0&&(this.previousOptions.subscription!==this.getOptions().subscription||!Object(l.a)(this.previousOptions.variables,this.getOptions().variables)||this.previousOptions.skip!==this.getOptions().skip)&&(this.cleanup(),t=this.getLoadingResult()),this.initialize(this.getOptions()),this.startSubscription(),this.previousOptions=this.getOptions(),Object(n.__assign)(Object(n.__assign)({},t),{variables:this.getOptions().variables})},t.prototype.afterExecute=function(){this.isMounted=!0},t.prototype.cleanup=function(){this.endSubscription(),delete this.currentObservable.query},t.prototype.initialize=function(e){this.currentObservable.query||!0===this.getOptions().skip||(this.currentObservable.query=this.refreshClient().client.subscribe({query:e.subscription,variables:e.variables,fetchPolicy:e.fetchPolicy}))},t.prototype.startSubscription=function(){this.currentObservable.subscription||(this.currentObservable.subscription=this.currentObservable.query.subscribe({next:this.updateCurrentData.bind(this),error:this.updateError.bind(this),complete:this.completeSubscription.bind(this)}))},t.prototype.getLoadingResult=function(){return{loading:!0,error:void 0,data:void 0}},t.prototype.updateResult=function(e){this.isMounted&&this.setResult(e)},t.prototype.updateCurrentData=function(e){var t=this.getOptions().onSubscriptionData;this.updateResult({data:e.data,loading:!1,error:void 0}),t&&t({client:this.refreshClient().client,subscriptionData:e})},t.prototype.updateError=function(e){this.updateResult({error:e,loading:!1})},t.prototype.completeSubscription=function(){var e=this.getOptions().onSubscriptionComplete;e&&e(),this.endSubscription()},t.prototype.endSubscription=function(){this.currentObservable.subscription&&(this.currentObservable.subscription.unsubscribe(),delete this.currentObservable.subscription)},t}(c);function v(e,t){var a=Object(i.useContext)(Object(r.c)()),s=t?Object(n.__assign)(Object(n.__assign)({},t),{subscription:e}):{subscription:e},l=Object(i.useState)({loading:!s.skip,error:void 0,data:void 0}),o=l[0],c=l[1],u=Object(i.useRef)();var m=(u.current||(u.current=new g({options:s,context:a,setResult:c})),u.current);return m.setOptions(s,!0),m.context=a,Object(i.useEffect)((function(){return m.afterExecute()})),Object(i.useEffect)((function(){return m.cleanup.bind(m)}),[]),m.execute(o)}!function(){function e(){this.queryPromises=new Map,this.queryInfoTrie=new Map}e.prototype.registerSSRObservable=function(e,t){this.lookupQueryInfo(t).observable=e},e.prototype.getSSRObservable=function(e){return this.lookupQueryInfo(e).observable},e.prototype.addQueryPromise=function(e,t){return this.lookupQueryInfo(e.getOptions()).seen?t():(this.queryPromises.set(e.getOptions(),new Promise((function(t){t(e.fetchData())}))),null)},e.prototype.hasPromises=function(){return this.queryPromises.size>0},e.prototype.consumeAndAwaitPromises=function(){var e=this,t=[];return this.queryPromises.forEach((function(a,r){e.lookupQueryInfo(r).seen=!0,t.push(a)})),this.queryPromises.clear(),Promise.all(t)},e.prototype.lookupQueryInfo=function(e){var t=this.queryInfoTrie,a=e.query,r=e.variables,n=t.get(a)||new Map;t.has(a)||t.set(a,n);var i=JSON.stringify(r),s=n.get(i)||{seen:!1,observable:null};return n.has(i)||n.set(i,s),s}}()},548:function(e,t,a){},558:function(e,t,a){},841:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return L}));var r=a(0),n=a.n(r),i=(a(558),a(527)),s=a(93),l=a(523),o=a(116),c=a(529),u=a(839),m=a(541),d=a(164),b=a(165),p=a.n(b);function h(){var e=Object(d.a)(["mutation updateStock ($id: uuid!, $stock: Int!) {\n    update_products(\n      where: {id: {_eq: $id}},\n      _inc: {stock: $stock}\n    ) {\n      affected_rows\n    }\n  }"]);return h=function(){return e},e}var g=p()(h());var v=function(e){var t=e.refetch,a=Object(l.b)(g,{onCompleted:function(){t()}}),i=Object(s.a)(a,2),o=i[0],c=i[1],d=c.loading,b=c.error,p=Object(m.a)(),h=p.handleSubmit,v=p.register,f=p.errors,y=e.productId,E=e.type,O=e.onHide;return n.a.createElement(r.Fragment,null,n.a.createElement(u.a,{show:e.show,onHide:e.onHide,className:"product-quickview-modal-wrapper"},n.a.createElement(u.a.Header,{closeButton:!0}),n.a.createElement("div",{className:"billing-info-wrap m-4"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-lg-6 col-md-6"},n.a.createElement("h3",null,"add"===E?"Sto\u011fa \xdcr\xfcn Ekle":"Stoktan \xdcr\xfcn \xc7\u0131kart")),n.a.createElement("div",{className:"col-lg-6 col-md-6"})),n.a.createElement("form",{onSubmit:h((function(e){var t="add"===E?Number(e.stock):-Math.abs(Number(e.stock));o({variables:{id:y,stock:t}}),O()}))},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-lg-6 col-md-6 d-flex"},n.a.createElement("div",{className:"col-lg-6 col-md-6 pl-0"}),n.a.createElement("div",{className:"col-lg-6 col-md-6 pl-0"})),n.a.createElement("div",{className:"col-lg-6 col-md-6"}),n.a.createElement("div",{className:"col-lg-12"}),n.a.createElement("div",{className:"col-lg-12"}),n.a.createElement("div",{className:"col-lg-12"},n.a.createElement("div",{className:"billing-info mb-20"},n.a.createElement("label",null,"add"===E?"Yeni \xdcr\xfcn Adedi":"A\xe7\u0131ktan Sat\u0131lan \xdcr\xfcn Adedi"),n.a.createElement("input",{maxLength:"5",className:"billing-address",placeholder:"add"===E?"Sto\u011fa eklenecek \xfcr\xfcn adedini yaz":"Stoktan \xe7\u0131kart\u0131lacak \xfcr\xfcn adedini yaz",type:"text",ref:v({required:!0,minLength:1}),name:"stock"}),f.stock&&n.a.createElement("div",{className:"alert alert-danger small",role:"alert"},"\xdcr\xfcn say\u0131s\u0131 bo\u015f b\u0131rak\u0131lamaz."))),n.a.createElement("div",{className:"button-box pl-15"},n.a.createElement("button",{className:"submitAddress",type:"submit"},n.a.createElement("span",null,d?"G\xfcncelleniyor...":"Kaydet"))),b&&"Stok bilgisi g\xfcncellenemedi, daha sonra tekrar deneyin.")))))};function f(){var e=Object(d.a)(["\n  query GetProductsPortal {\n    products(order_by: {created_at: desc}) { \n      discount\n      fullDescription\n      new\n      isActive\n      price\n      id\n      base_color\n      dimensions\n      weight\n      name\n      rating\n      saleCount\n      shortDescription\n      sku\n      stock\n      category {\n        category{\n          category\n          category_id\n        }\n      }\n      tag {\n        tag{\n          tag\n          tag_id\n        }\n      }\n      image {\n        path\n        image_id\n      }\n    }\n  }\n"]);return f=function(){return e},e}var y=p()(f());function E(){var e=Object(d.a)(["mutation UpdateProduct($id: uuid!, $vars: products_set_input!) {\n    update_products_by_pk(pk_columns: {id: $id}, _set: $vars){\n        id\n    }\n  }"]);return E=function(){return e},e}var O=p()(E());a(548);var N=function(e){var t=e.refetch,a=Object(l.b)(O,{onCompleted:function(){t()}}),i=Object(s.a)(a,2),o=i[0],c=i[1],d=c.loading,b=c.error,p=Object(m.a)(),h=p.handleSubmit,g=p.register,v=p.errors,f=e.productId,y=e.onHide,E=e.productData,N=E&&f&&E.products.filter((function(e){return e.id===f}))[0];return n.a.createElement(r.Fragment,null,n.a.createElement(u.a,{show:e.show,onHide:e.onHide,className:"product-quickview-modal-wrapper"},n.a.createElement(u.a.Header,{closeButton:!0},n.a.createElement("h4",null,"\xdcr\xfcn Bilgilerini G\xfcncelle")),n.a.createElement("div",{className:"billing-info-wrap m-4"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-lg-6 col-md-6"}),n.a.createElement("div",{className:"col-lg-6 col-md-6"})),n.a.createElement("form",{onSubmit:h((function(e){o({variables:{id:f,vars:e}}),y()}))},N&&n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-lg-12"},n.a.createElement("div",{className:"billing-info mb-20"},n.a.createElement("label",null,"\u0130sim"),n.a.createElement("input",{maxLength:"55",className:"billing-address",placeholder:"\xd6l\xe7\xfcler",type:"text",ref:g({required:!0,minLength:2}),name:"name",defaultValue:N.name}),v.name&&n.a.createElement("div",{className:"alert alert-danger small",role:"alert"},"\u0130sim bo\u015f b\u0131rak\u0131lamaz.")),n.a.createElement("div",{className:"billing-info mb-20"},n.a.createElement("label",null,"Zemin Rengi"),n.a.createElement("input",{maxLength:"55",className:"billing-address",placeholder:"Zemin Rengi",type:"text",ref:g({required:!0,minLength:2}),name:"base_color",defaultValue:N.base_color}),v.base_color&&n.a.createElement("div",{className:"alert alert-danger small",role:"alert"},"Zemin Rengi bo\u015f b\u0131rak\u0131lamaz.")),n.a.createElement("div",{className:"billing-info mb-20"},n.a.createElement("label",null,"\xd6l\xe7\xfcler"),n.a.createElement("input",{maxLength:"55",className:"billing-address",placeholder:"\xd6l\xe7\xfcler",type:"text",ref:g({required:!0,minLength:2}),name:"dimensions",defaultValue:N.dimensions}),v.dimensions&&n.a.createElement("div",{className:"alert alert-danger small",role:"alert"},"\xf6l\xe7\xfcler bo\u015f b\u0131rak\u0131lamaz.")),n.a.createElement("div",{className:"billing-info mb-20"},n.a.createElement("label",null,"Detayl\u0131 Bilgi"),n.a.createElement("textarea",{maxLength:"1255",className:"billing-address",placeholder:"Detayl\u0131 Bilgi",rows:"3",ref:g({required:!0,minLength:7}),name:"fullDescription",defaultValue:N.fullDescription}),v.fullDescription&&n.a.createElement("div",{className:"alert alert-danger small",role:"alert"},"Detayl\u0131 bilgi bo\u015f b\u0131rak\u0131lamaz.")),n.a.createElement("div",{className:"billing-info mb-20"},n.a.createElement("label",null,"K\u0131sa A\xe7\u0131klama"),n.a.createElement("input",{maxLength:"755",className:"billing-address",placeholder:"K\u0131sa a\xe7\u0131klama",type:"text",ref:g({required:!0,minLength:2}),name:"shortDescription",defaultValue:N.shortDescription}),v.shortDescription&&n.a.createElement("div",{className:"alert alert-danger small",role:"alert"},"K\u0131sa a\xe7\u0131klama bo\u015f b\u0131rak\u0131lamaz.")),n.a.createElement("div",{className:"billing-info mb-20"},n.a.createElement("label",null,"A\u011f\u0131rl\u0131k"),n.a.createElement("input",{maxLength:"22",className:"billing-address",placeholder:"A\u011f\u0131rl\u0131k",type:"text",ref:g({required:!0,minLength:2}),name:"weight",defaultValue:N.weight}),v.weight&&n.a.createElement("div",{className:"alert alert-danger small",role:"alert"},"A\u011f\u0131rl\u0131k bo\u015f b\u0131rak\u0131lamaz.")),n.a.createElement("div",{className:"billing-info mb-20"},n.a.createElement("label",null,"\u0130ndirim Oran\u0131"),n.a.createElement("input",{maxLength:"3",className:"billing-address",placeholder:"\u0130ndirim oran\u0131",type:"number",ref:g({required:!0,minLength:1}),name:"discount",defaultValue:N.discount}),v.discount&&n.a.createElement("div",{className:"alert alert-danger small",role:"alert"},"\u0130ndirim oran\u0131 bo\u015f b\u0131rak\u0131lamaz.")),n.a.createElement("div",{className:"billing-info mb-20"},n.a.createElement("label",null,"Fiyat"),n.a.createElement("input",{maxLength:"4",className:"billing-address",placeholder:"Fiyat",type:"number",ref:g({required:!0,minLength:1}),name:"price",defaultValue:N.price}),v.price&&n.a.createElement("div",{className:"alert alert-danger small",role:"alert"},"Fiyat bo\u015f b\u0131rak\u0131lamaz.")),n.a.createElement("div",{className:"billing-info mb-20"},n.a.createElement("label",null,"Rating"),n.a.createElement("input",{maxLength:"4",className:"billing-address",placeholder:"Rating",type:"number",ref:g({required:!0,minLength:1}),name:"rating",defaultValue:N.rating}),v.rating&&n.a.createElement("div",{className:"alert alert-danger small",role:"alert"},"Rating bo\u015f b\u0131rak\u0131lamaz.")),n.a.createElement("div",{className:"d-flex"},n.a.createElement("label",null,"Yeni"),n.a.createElement("input",{className:"checkbox",type:"checkbox",name:"new",defaultValue:!0,ref:g})),n.a.createElement("div",{className:"d-flex"},n.a.createElement("label",null,"Aktif"),n.a.createElement("input",{className:"checkbox",type:"checkbox",name:"isActive",defaultValue:!0,ref:g}))),n.a.createElement("div",{className:"button-box pl-15"},n.a.createElement("button",{className:"submitAddress",type:"submit"},n.a.createElement("span",null,d?"G\xfcncelleniyor...":"G\xfcncelle"))),b&&"\xdcr\xfcn g\xfcncellenemedi, daha sonra tekrar deneyin.")))))},k=a(55);function _(){var e=Object(d.a)(["\n  mutation AddProduct($product: products_insert_input!) {\n    insert_products_one(object: $product)\n    {\n      id\n      name\n    }\n  }\n"]);return _=function(){return e},e}var x=p()(_());function j(){var e=Object(d.a)(["\n  query GetCategories {\n    categories {\n      category\n      category_id\n    }\n    tags {\n      tag\n      tag_id\n    }\n  }\n"]);return j=function(){return e},e}var w=p()(j());function q(){var e=Object(d.a)(["\nmutation insertProductTagsImages($product_tags: [product_tags_insert_input!]!, $images: [images_insert_input!]!) {\n    insert_product_tags(objects: $product_tags){\n      affected_rows\n    }\n    insert_images(objects: $images){\n      returning{\n        path\n      }\n    }\n  }\n  "]);return q=function(){return e},e}var S=p()(q());var R=function(e){var t=Object(l.c)(w),a=t.loading,i=t.error,o=t.data,c=e.refetch,d=Object(l.b)(x,{onCompleted:function(e){var t=e.insert_products_one.id,a=e.insert_products_one.name.replace(/\s+/g,"_");E({variables:{product_tags:R.map((function(e){return{product_id:t,tag_id:e}})),images:[{path:"".concat(a,"1"),product_id:t},{path:"".concat(a,"2"),product_id:t},{path:"".concat(a,"3"),product_id:t}]}}),c()}}),b=Object(s.a)(d,2),p=b[0],h=b[1],g=h.loading,v=h.error,f=Object(l.b)(S,{onCompleted:function(e){c()}}),y=Object(s.a)(f,2),E=y[0],O=y[1],N=O.loading,_=O.error,j=Object(r.useState)([]),q=Object(s.a)(j,2),R=q[0],D=q[1],L=Object(r.useState)(null),Q=Object(s.a)(L,2),z=Q[0],M=Q[1],P=Object(m.a)(),C=P.handleSubmit,I=P.register,A=P.errors,T=e.onHide;return n.a.createElement(r.Fragment,null,n.a.createElement(u.a,{show:e.show,onHide:e.onHide,className:"product-quickview-modal-wrapper"},n.a.createElement(u.a.Header,{closeButton:!0}),n.a.createElement("div",{className:"billing-info-wrap m-4"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-lg-6 col-md-6"},n.a.createElement("h3",null,"Yeni \xdcr\xfcn"))),n.a.createElement("form",{onSubmit:C((function(e){p({variables:{product:{name:e.name,base_color:e.base_color,fullDescription:e.fullDescription,shortDescription:e.shortDescription,weight:e.weight,price:e.price,discount:e.discount,dimensions:e.dimensions,rating:e.rating,category:{data:{category_id:z}},sku:e.sku}}}),T()}))},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-lg-12"},n.a.createElement("div",{className:"billing-info mb-20"},n.a.createElement("label",null,"\u0130sim"),n.a.createElement("input",{maxLength:"255",className:"billing-address",placeholder:"\u0130sim",type:"text",ref:I({required:!0,minLength:2}),name:"name"}),A.name&&n.a.createElement("div",{className:"alert alert-danger small",role:"alert"},"\u0130sim bo\u015f b\u0131rak\u0131lamaz.")),n.a.createElement("div",{className:"billing-info mb-20"},n.a.createElement("label",null,"Zemin Rengi"),n.a.createElement("input",{maxLength:"55",className:"billing-address",placeholder:"Zemin Rengi",type:"text",ref:I({required:!0,minLength:2}),name:"base_color"}),A.base_color&&n.a.createElement("div",{className:"alert alert-danger small",role:"alert"},"Zemin Rengi bo\u015f b\u0131rak\u0131lamaz.")),n.a.createElement("div",{className:"billing-info mb-20"},n.a.createElement("label",null,"\xd6l\xe7\xfcler"),n.a.createElement("input",{maxLength:"55",className:"billing-address",placeholder:"\xd6l\xe7\xfcler",type:"text",ref:I({required:!0,minLength:2}),name:"dimensions"}),A.dimensions&&n.a.createElement("div",{className:"alert alert-danger small",role:"alert"},"\xf6l\xe7\xfcler bo\u015f b\u0131rak\u0131lamaz.")),n.a.createElement("div",{className:"billing-info mb-20"},n.a.createElement("label",null,"Detayl\u0131 Bilgi"),n.a.createElement("textarea",{maxLength:"1255",className:"billing-address",placeholder:"Detayl\u0131 Bilgi",rows:"3",ref:I({required:!0,minLength:7}),name:"fullDescription"}),A.fullDescription&&n.a.createElement("div",{className:"alert alert-danger small",role:"alert"},"Detayl\u0131 bilgi bo\u015f b\u0131rak\u0131lamaz.")),n.a.createElement("div",{className:"billing-info mb-20"},n.a.createElement("label",null,"K\u0131sa A\xe7\u0131klama"),n.a.createElement("input",{maxLength:"755",className:"billing-address",placeholder:"K\u0131sa a\xe7\u0131klama",type:"text",ref:I({required:!0,minLength:2}),name:"shortDescription"}),A.shortDescription&&n.a.createElement("div",{className:"alert alert-danger small",role:"alert"},"K\u0131sa a\xe7\u0131klama bo\u015f b\u0131rak\u0131lamaz.")),n.a.createElement("div",{className:"billing-info mb-20"},n.a.createElement("label",null,"Sku"),n.a.createElement("input",{maxLength:"55",className:"billing-address",placeholder:"Sku",type:"text",ref:I({required:!0,minLength:2}),name:"sku"}),A.sku&&n.a.createElement("div",{className:"alert alert-danger small",role:"alert"},"Sku bo\u015f b\u0131rak\u0131lamaz.")),n.a.createElement("div",{className:"billing-info mb-20"},n.a.createElement("label",null,"A\u011f\u0131rl\u0131k"),n.a.createElement("input",{maxLength:"22",className:"billing-address",placeholder:"A\u011f\u0131rl\u0131k",type:"text",ref:I({required:!0,minLength:2}),name:"weight"}),A.weight&&n.a.createElement("div",{className:"alert alert-danger small",role:"alert"},"A\u011f\u0131rl\u0131k bo\u015f b\u0131rak\u0131lamaz.")),n.a.createElement("div",{className:"billing-info mb-20"},n.a.createElement("label",null,"\u0130ndirim Oran\u0131"),n.a.createElement("input",{maxLength:"3",className:"billing-address",placeholder:"\u0130ndirim oran\u0131",type:"number",ref:I({required:!0,minLength:1}),name:"discount"}),A.discount&&n.a.createElement("div",{className:"alert alert-danger small",role:"alert"},"\u0130ndirim oran\u0131 bo\u015f b\u0131rak\u0131lamaz.")),n.a.createElement("div",{className:"billing-select mb-20"},n.a.createElement("label",null,"Kategori"),n.a.createElement("select",{onChange:function(e){return M(e.target.value)},ref:I({required:"Kategori bo\u015f b\u0131rak\u0131lamaz."}),name:"category_id"},n.a.createElement("option",{className:"text-hide"},"Se\xe7iniz"),a&&"Kategoriler Y\xfckleniyor...",i&&"Kategoriler y\xfcklenemdi",o&&o.categories.map((function(e){return n.a.createElement("option",{value:e.category_id,key:e.category_id},e.category)}))),A.category_id&&n.a.createElement("div",{className:"alert alert-danger small",role:"alert"},A.cateory_id.message)),n.a.createElement("div",{className:"billing-select mb-20"},n.a.createElement("label",null,"Tag"),n.a.createElement("select",{multiple:!0,onChange:function(e){return function(e){e.preventDefault(),D([].concat(Object(k.a)(R),[e.target.value]))}(e)},ref:I({required:"Tag bo\u015f b\u0131rak\u0131lamaz."}),name:"tag_id",className:"selectpicker"},N&&"Tagler y\xfckleniyor...",_&&"Tagler Y\xfcklenemedi.",o&&o.tags.map((function(e){return n.a.createElement("option",{value:e.tag_id,key:e.tag_id},e.tag)}))),A.tag_id&&n.a.createElement("div",{className:"alert alert-danger small",role:"alert"},A.tag_id.message),R&&R.map((function(e,t){return n.a.createElement("div",{key:t},e,n.a.createElement("span",{onClick:function(e){return function(e){e.preventDefault(),D(R.filter((function(t){return t!==e.target.id})))}(e)},key:t,id:e,className:"ml-1",style:{color:"red",cursor:"pointer"}},"x"))}))),n.a.createElement("div",{className:"billing-info mb-20"},n.a.createElement("label",null,"Fiyat"),n.a.createElement("input",{maxLength:"4",className:"billing-address",placeholder:"Fiyat",type:"number",ref:I({required:!0,minLength:1}),name:"price"}),A.price&&n.a.createElement("div",{className:"alert alert-danger small",role:"alert"},"Fiyat bo\u015f b\u0131rak\u0131lamaz.")),n.a.createElement("div",{className:"billing-info mb-20"},n.a.createElement("label",null,"Rating"),n.a.createElement("input",{maxLength:"4",className:"billing-address",placeholder:"Rating",type:"number",ref:I({required:!0,minLength:1}),name:"rating"}),A.rating&&n.a.createElement("div",{className:"alert alert-danger small",role:"alert"},"Rating bo\u015f b\u0131rak\u0131lamaz."))),n.a.createElement("div",{className:"button-box pl-15"},n.a.createElement("button",{className:"submitAddress",type:"submit"},n.a.createElement("span",null,g?"Ekleniyor...":"Ekle"))),v&&"\xdcr\xfcn eklenemedi, daha sonra tekrar deneyin.")))))};function D(){var e=Object(r.useState)(!1),t=Object(s.a)(e,2),a=t[0],i=t[1],u=Object(r.useState)(!1),m=Object(s.a)(u,2),d=m[0],b=m[1],p=Object(r.useState)(!1),h=Object(s.a)(p,2),g=h[0],f=h[1],E=Object(r.useState)(null),O=Object(s.a)(E,2),k=O[0],_=O[1],x=Object(r.useState)("add"),j=Object(s.a)(x,2),w=j[0],q=j[1],S=Object(l.c)(y),D=S.loading,L=S.error,Q=S.data,z=S.refetch;L&&console.log(L);var M=function(e){e.preventDefault(),q(e.target.id),_(e.target.value),i(!0)};return n.a.createElement(r.Fragment,null,n.a.createElement("div",{className:"shop-list-wrap mb-30"},n.a.createElement("div",{className:"shop-list-content"},n.a.createElement("div",{className:"shop-list-actions d-flex align-items-center ml-2"},n.a.createElement("div",{className:"col-xl-4 col-sm-6"},n.a.createElement("h3",{className:"cart-page-title ml-5"},n.a.createElement("u",null,"T\xfcm \xdcr\xfcnler"))),n.a.createElement("div",{className:"col-xl-4 col-sm-6 shop-list-btn btn-hover"},n.a.createElement("button",{className:"active order-btn newProduct",onClick:function(){return f(!0)}},"Yeni \xdcr\xfcn Ekle")))),Q&&Q.products&&Q.products.map((function(e){return n.a.createElement("div",{className:"row orders p-2",key:e.id},n.a.createElement("div",{className:"col-xl-4 col-md-5 col-sm-6"},n.a.createElement("div",{className:"product-list-image-wrap d-flex overflow-auto"},D&&"Y\xfckleniyor...",e.image.map((function(t){return n.a.createElement("div",{className:"container",key:t.image_id},n.a.createElement(c.a,{path:t.path,className:"img-orders img-responsive",name:e.name}))})))),n.a.createElement("div",{className:"col-xl-8 col-md-7 col-sm-6"},n.a.createElement("div",{className:"shop-list-content"},n.a.createElement(o.b,{to:"/product/"+e.id},n.a.createElement("h4",null,e.name)),n.a.createElement("h5",null,n.a.createElement("strong",null,"\xdcr\xfcn ID: "),e.id),n.a.createElement("div",{className:"product-list-price m-0"},n.a.createElement("span",null,"STOK: ",e.stock)),n.a.createElement("div",{className:"rating-review d-block"},e.category.map((function(e){return n.a.createElement("div",{className:"product-list-rating d-flex border-bottom mb-2",key:e.category.category_id},n.a.createElement("div",null,n.a.createElement("span",null,"category: "+e.category.category+" "+e.category.category_id)))})),n.a.createElement("div",{className:"product-list-rating d-flex border-bottom mb-2"},e.tag.map((function(e){return n.a.createElement("div",{key:e.tag.tag_id},n.a.createElement("span",{className:"mr-3"},"tag: "+e.tag.tag+" "+e.tag.tag_id))}))),n.a.createElement("div",{className:"row border-bottom mb-3"},n.a.createElement("div",{className:"col-xl-4 col-md-4 col-sm-4"},n.a.createElement("span",{className:"redPaid"},e.price," TL %",e.discount," ")))),n.a.createElement("div",{className:"shop-list-actions d-flex align-items-center"},n.a.createElement("div",{className:"shop-list-btn btn-hover"},n.a.createElement("button",{id:"add",value:e.id,className:"active order-btn",onClick:function(e){return M(e)}},"Sto\u011fa Ek Yap")),n.a.createElement("div",{className:"shop-list-btn btn-hover ml-2"},n.a.createElement("button",{id:"extract",value:e.id,className:"active order-btn",onClick:function(e){return M(e)}},"Stoktan \xc7\u0131kart")),n.a.createElement("div",{className:"shop-list-btn btn-hover ml-2"},n.a.createElement("button",{id:"extract",value:e.id,className:"active order-btn",onClick:function(e){return function(e){e.preventDefault(),_(e.target.value),b(!0)}(e)}},"\xdcr\xfcn\xfc D\xfczenle"))))))}))),n.a.createElement(v,{show:a,onHide:function(){return i(!1)},productId:k,type:w,refetch:z}),n.a.createElement(N,{show:d,onHide:function(){return b(!1)},productId:k,refetch:z,productData:Q}),n.a.createElement(R,{show:g,onHide:function(){return f(!1)},refetch:z}))}function L(){return n.a.createElement(i.a,null,n.a.createElement("div",{className:"shop-bottom-area mt-35 w-90"},n.a.createElement("div",{className:"row list"},n.a.createElement(r.Fragment,null,n.a.createElement("div",{className:"col-xl-4 col-sm-6"},n.a.createElement(D,null))))))}}}]);
//# sourceMappingURL=20.46a84de2.chunk.js.map